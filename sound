#!/bin/bash
#

URL='http://www.nhk.or.jp/r-news/podcast/nhkradionews.xml'
DWARF=('red.dwarf*' 'red_dwarf_12*' 'red_dwarf_11_[03..06]*' 'red_dwarf_11_[01..02]*')

killall mpg123 2> /dev/null
killall mpg123.bin 2> /dev/null

case $1 in
	-j)# Japan NHK Podcast
		mpg123 -q $(wget -q -O - $URL | grep mp3 | sed -r 's/.*(http.*mp3).*/\1/') &
	;;
	-d)# Random Red Dwarf 10/11/12 episodes
		mpg123 -q -z /root/dwarf/${DWARF[$(($RANDOM % 4))]} &
	;;
	-h)# Usage
		echo -e "Usage: sound [OPTION]\n-j [NHK Podcast]\n-d [Red Dwarf]"
	;;
	*)# Smooth Lounge Radio
		mpg123 -q 'http://fr1.lounge-radio.com:80/lounge128.mp3' &
esac

